<%- include('partials/header') %>
<%- include('navbar') %>
<%- include('sidenavbar') %>



<iframe id ="topIframeA" style="background: #21313C;border: none;margin-left:120px; margin-bottom:20px; margin-top:25px; border-radius: 15px; box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="480" height="340" src="https://charts.mongodb.com/charts-project-0-btbvr/embed/charts?id=fa4b44f9-cbca-4df9-8991-6a6d4fe69154&autoRefresh=3600&theme=dark"></iframe>
<iframe id ="topIframeB" style="background: #21313C;border: none;margin-left:20px; margin-bottom:20px; margin-top:25px; border-radius: 15px; box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="480" height="340" src="https://charts.mongodb.com/charts-project-0-btbvr/embed/charts?id=bb4be7fa-a343-474c-b36a-ed68374d7b0f&theme=dark"></iframe>
<iframe id ="topIframeC" style="background: #21313C;border: none;margin-left:20px; margin-bottom:20px; margin-top:25px; border-radius: 15px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="480" height="340" src="https://charts.mongodb.com/charts-project-0-btbvr/embed/charts?id=83029de4-6316-45cd-93d9-536aead38ce8&theme=dark"></iframe>

<div class = "carHeader">
<h4> Current Car Inventory</h4>
</div>

 <div class ="backgroundForButtonsAboveTable">
<div class="btn-group">
  <button type="button" class="btn btn-primary" id="modalButtons" data-toggle="modal" data-target="#exampleModal1">Car Form</button>
  <button type="button" class="btn btn-primary" id="modalButtons" data-toggle="modal" data-target="#exampleModal">Car Details</button>  
    <select id="modalButtons" class ="btn btn-primary">
      <option value="0">Select car:</option>
      <option value="1">Audi</option>
      <option value="2">BMW</option>
      <option value="3">Citroen</option>
      <option value="4">Ford</option>
      <option value="5">Honda</option>
      <option value="6">Jaguar</option>
      <option value="7">Land Rover</option>
      <option value="8">Mercedes</option>
      <option value="9">Mini</option>
      <option value="10">Nissan</option>
      <option value="11">Toyota</option>
      <option value="12">Volvo</option>
    </select>
    <select id="modalButtons" class ="form-control btn btn-primary">
      <option value="0">Modify Cars</option>
      <option value="1">Add</option>
      <option value="2">Delete</option>
      <option value="3" data-toggle="modal" data-target="#modalButtons">Update</option>
    </select>
  </div>
</div>
</div>
<form class="search" action="">
  <input type="search" placeholder="Search here..." required>
  <button type="submit">Search</button>
</form>

 


  <!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Tesla </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <img src = "images/tesla.jpg" class = "JeepModalOne" />
        <% carItems.forEach(function(item){ %>
          <div class = "item">
            <p>Make: <%=item.make%></p> 
            <p>Model: <%=item.model%></p> 
            <p>Mileage: <%=item.current_mileage%></p> 
            <p>Year: <%=item.year%></p>
          </div>
       <% }); %>
      
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
  

<table class="table table-dark tableCarInventory">
  
    <thead>
      <tr>
        <th class = "idRowInTable" scope="col">ID</th>
        <th scope="col">Make</th>
        <th scope="col">Model</th>
        <th scope="col">Mileage</th>
        <th scope="col">Year</th>
        <th scope="col">Next Service</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class = "idRowInTable"> <% carItems.forEach(function(item){ %>
            <div class = "item">
              <p><%=item._id%></p> 
            </div>
          <% }); %>
        </td>
        <td> <% carItems.forEach(function(item){ %>
            <div class = "item">
              <p><%=item.make%></p> 
            </div>
         <% }); %>
        </td>
        <td> <% carItems.forEach(function(item){ %>
          <div class = "item">
            <p><%=item.model%></p> 
          </div>
       <% }); %>
      </td>
        <td> <% carItems.forEach(function(item){ %>
          <div class = "item">
            <p><%=item.current_mileage%></p> 
          </div>
         <% }); %>
        </td>
        <td> <% carItems.forEach(function(item){ %>
          <div class = "item"> 
          <p><%=item.year%></p>
          </div>
        <% }); %>
        </td>
        <td> <% carItems.forEach(function(item){ %>
          <div class = "item"> 
          <p><%=item.next_service%></p>
          </div>
        <% }); %>
        </td>
        <td> <% carItems.forEach(function(item){ %>
          <div class ="item">
                <button href="#myModalForCar" type="button" name = "deleteButton" class="btn btn-danger deleteButton" data-toggle="modal">Delete</button>
          </div>
          <% }) %> 

          <!-- Form info -->
           <!-- Modal HTML -->
        <div id="myModalForCar" class="modal fade">
          <div class="modal-dialog modal-confirm">
            <div class="modal-content">
              <div class="modal-header flex-column">
                <div class="icon-box">
                  <i class="material-icons">&#xE5CD;</i>
                </div>						
                <h4 class="modal-title w-100">Are you sure?</h4>	
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              </div>
              <div class="modal-body">
                <p>Do you really want to delete these records? This process cannot be undone.</p>
              </div>
              <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                  <form action="/delete" method ="post">
                    <div class ="item">
                      <Button type="submit" class="btn btn-danger" name="deleteButton" value ="<%=carItems.make%>" onClick="this.form.submit()">Delete</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </td> 
      </tr>
    </tbody>
  </table>
  

<%- include('partials/footer') %>

   <!-- Modal 2 POST Form for ADD -->
   <div class="modal fade" id="exampleModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" id="modalMovetoCenter" role="document">
      <div class="modal-content" style= "width:780px">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Car Inventory - ADD New Cars to Database </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <form action="/submitCars" method="POST">
              <div class = "row">
                <div class="col">
                  <label for="inputEmployeeName">Employee First Name</label>
                  <input type="text" id="formInputs" class="form-control" placeholder="First Name" id="inputEmployeeFName">
                </div>
                <div class="col">
                  <label for="inputEmployeeName">Employee Last Name</label>
                  <input type="text" id="formInputs" class="form-control" placeholder="Last name" id="inputEmployeeLName">
                </div>
  
                </div>
              <div class="row">
                <div class="col">
                  <label for="inputMake">Input Make</label>
                  <input type="text" name ="inputMake" id="formInputs" class="form-control" placeholder="Input Make" id="inputMake">
                </div>
                <div class="col">
                  <label for="inputModel">Input Model</label>
                  <input type="text" name ="inputModel" id="formInputs" class="form-control" placeholder="Input Model" id ="inputModel">
                </div>
                <div class="col">
                  <label for="inputModel">Input Year</label>
                  <input type="text" name ="inputYear" class="form-control" placeholder="Input Year" id="inputYear" required>
                </div>
                <div class="col">
                  <label for="inputSeats">Input Seats</label>
                  <input type="text"  name ="inputSeats" class="form-control" placeholder="Input Seats" id="inputSeats" required>
                </div>
              </div>
            
            <div class="row">
              <div class="col">
                <label for="inputColor">Input color</label>
                <input type="text" name ="inputColor" id="formInputs" class="form-control" placeholder="Input color" id="inputColor">
              </div>
              <div class="col">
                <label for="inputvin">Input Vin</label>
                <input type="text" name ="inputVin" id="formInputs" class="form-control" placeholder="Input Vin" id ="inputVin">
              </div>
              <div class="col">
                <label for="inputCurrent_Mileage">Current Mileage</label>
                <input type="text" name ="inputCurrent_Mileage" id="formInputs" class="form-control" placeholder="Input Mileage" id="inputCurrent_Mileage" required>
              </div>
              <div class="col">
                <label for="inputService_Interval">Service Interval</label>
                <input type="text" name ="inputService_Interval" id="formInputs" class="form-control" placeholder="Input SI" id="inputService_Interval" required>
              </div>
              </div>
              <div class="row">
              <div class="col">
                <label for="inputNext_Service">Next Service</label>
                <input type="text" name="inputNext_Service" id="formInputs" class="form-control" placeholder="Input Next Serv." id="inputNext_Service" required>
                </div>
              <div class="col">
                <label for="input">Annual Sales</label>
                <input type="text" name="inputAnnual_Sales" id="formInputs" class="form-control" placeholder="Input Sale"id="inputAnnual_Sales" required>
                </div>         
              </div>
              <input type="submit" class="btn btn-primary btn-lg btn-block" value="Submit">
          </div>
      </div>
 </form>


 <!-- Modal 2 POST Form for UPDATE -->
 <div class="modal fade" id="modalButtons" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content"style= "width:780px">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Car Inventory - UPDATE Cars in Database </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <form action="/submitCars" method="POST">
            <div class = "row">
              <div class="col">
                <label for="inputEmployeeName">Employee First Name</label>
                <input type="text" id="formInputs" class="form-control" placeholder="First Name" id="inputEmployeeFName">
              </div>
              <div class="col">
                <label for="inputEmployeeName">Employee Last Name</label>
                <input type="text" id="formInputs" class="form-control" placeholder="Last name" id="inputEmployeeLName">
              </div>

              </div>
            <div class="row">
              <div class="col">
                <label for="inputMake">Input Make</label>
                <input type="text" name ="inputMake" id="formInputs" class="form-control" placeholder="Input Make" id="inputMake">
              </div>
              <div class="col">
                <label for="inputModel">Input Model</label>
                <input type="text" name ="inputModel" id="formInputs" class="form-control" placeholder="Input Model" id ="inputModel">
              </div>
              <div class="col">
                <label for="inputModel">Input Year</label>
                <input type="text" name ="inputYear" class="form-control" placeholder="Input Year" id="inputYear" required>
              </div>
              <div class="col">
                <label for="inputSeats">Input Seats</label>
                <input type="text"  name ="inputSeats" class="form-control" placeholder="Input Seats" id="inputSeats" required>
              </div>
            </div>
          
          <div class="row">
            <div class="col">
              <label for="inputColor">Input color</label>
              <input type="text" name ="inputColor" id="formInputs" class="form-control" placeholder="Input color" id="inputColor">
            </div>
            <div class="col">
              <label for="inputvin">Input Vin</label>
              <input type="text" name ="inputVin" id="formInputs" class="form-control" placeholder="Input Vin" id ="inputVin">
            </div>
            <div class="col">
              <label for="inputCurrent_Mileage">Current Mileage</label>
              <input type="text" name ="inputCurrent_Mileage" id="formInputs" class="form-control" placeholder="Input Mileage" id="inputCurrent_Mileage" required>
            </div>
            <div class="col">
              <label for="inputService_Interval">Service Interval</label>
              <input type="text" name ="inputService_Interval" id="formInputs" class="form-control" placeholder="Input SI" id="inputService_Interval" required>
            </div>
            </div>
            <div class="row">
            <div class="col">
              <label for="inputNext_Service">Next Service</label>
              <input type="text" name="inputNext_Service" id="formInputs" class="form-control" placeholder="Input Next Serv." id="inputNext_Service" required>
              </div>
            <div class="col">
              <label for="input">Annual Sales</label>
              <input type="text" name="inputAnnual_Sales" id="formInputs" class="form-control" placeholder="Input Sale"id="inputAnnual_Sales" required>
              </div>         
            </div>
            <input type="submit" class="btn btn-primary btn-lg btn-block" value="Submit">
        </div>
    </div>
</form>
        
  
  